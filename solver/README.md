# solver

## 概要

問題を解くプログラムが含まれます。
主にC++で書いています。

## フォルダ/ファイル構成

- `include/` : ヘッダファイル
- `lib/` : 外部ライブラリ
- `obj/` : オブジェクトファイル(コンパイル済みのファイル)
- `src/` : ソースファイル
- `test_data/` : 実行時間の計測などで使用したファイルや記録
- `yonep-nuts.exe` : 実行ファイル
- `Makefile` : コマンド`make`を実行した際の処理を記述

## ソース/ヘッダファイルの説明
- `beam_node.hpp`: ビームサーチアルゴリズムに必要なノードのクラス
- `board.hpp`: 盤面の状態を表現するクラス
- `board_template.hpp`: 問題をもとに盤面を生成するためのクラス
- `common.hpp`: プロジェクト全体で使用される定数や共通の関数の定義
- `communication.hpp`: サーバーとの通信処理を実装します(関数ベース)
- `inherited_handlers.hpp`: request_handler.hpp内のクラスを継承し、特定のサーバーとの通信処理を行う
- `operation.hpp`: 型抜き操作を行うための命令の構造体を実装します
- `point_xy.hpp`: 2次元座標系における点(ベクトル)の管理と操作を行うクラス
- `request_handler.hpp: communication.hpp`: サーバーとの通信処理(クラスベース)
- `solver.hpp`: 問題を解くメインロジック
- `state.hpp`: ビームサーチにおける、評価や状態遷移の管理を行うクラス
- `test.hpp`: 動作テストに関する処理

## 使用方法

`solver` ディレクトリ内のプログラムを C++17 でコンパイルしてください。
コンパイルにはMakefileを使用します:

```bash
make
```
IPアドレスを適切な値に変更してからコンパイルしてください。
IPアドレスは`common.hpp`内の変数の値を変えれば変更できますが、`set_config.py`から変更するようにしてください。


コンパイル後は、生成された `yonep-nuts.exe` 実行ファイルを以下のように実行できます:
```bash
./yonep-nuts.exe
```

通信対象のサーバーが稼働しているときに実行してください。
ライブラリのバグ(仕様?)により、存在しないIPアドレスにリクエストを送るとクラッシュします。


一度オブジェクトファイルをすべて消したい場合、以下のコマンドを実行します。
```bash
make clean
```